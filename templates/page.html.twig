{#
/**
 * @file
 * Zurb Foundations's theme implementation to display a single page.
 *
 * Available variables:
 *
 * General utility variables:
 * - base_path: The base URL path of the Drupal installation. Will usually be
 *   "/" unless you have installed Drupal in a sub-directory.
 * - is_front: A flag indicating if the current page is the front page.
 * - logged_in: A flag indicating if the user is registered and signed in.
 * - is_admin: A flag indicating if the user has permission to access
 *   administration pages.
 *
 * Site identity:
 * - front_page: The URL of the front page. Use this instead of base_path when
 *   linking to the front page. This includes the language domain or prefix.
 * - logo: The url of the logo image, as defined in theme settings.
 * - linked_logo: The logo image, linked to <front>.
 * - site_name: The name of the site. This is empty when displaying the site
 *   name has been disabled in the theme settings.
 * - linked_site_name: The name of the site that also links to <front>.
 * - site_slogan: The slogan of the site. This is empty when displaying the site
 *   slogan has been disabled in theme settings.
 * - hide_site_name: A flag indicating if the site name has been toggled off on
 *   the theme settings page. If hidden, the "visually-hidden" class is added
 *   to make the site name visually hidden, but still accessible.
 * - hide_site_slogan: A flag indicating if the site slogan has been toggled off
 *   on the theme settings page. If hidden, the "visually-hidden" class is
 *   added to make the site slogan visually hidden, but still accessible.
 *
 * Page content (in order of occurrence in the default page.html.twig):
 * - messages: Status and error messages. Should be displayed prominently.
 * - node: Fully loaded node, if there is an automatically-loaded node
 *   associated with the page and the node ID is the second argument in the
 *   page's path (e.g. node/12345 and node/12345/revisions, but not
 *   comment/reply/12345).
 *
 * Regions:
 * - page.meta_header
 * - page.header
 * - page.help
 * - page.highlighted
 * - page.content
 * - page.sidebar_first
 * - page.sidebar_second
 * - page.footer_first
 * - page.footer_middle
 * - page.footer_last
 *
 * @see template_preprocess_page()
 * @see bartik_preprocess_page()
 * @see html.html.twig
 */
#}

<div data-sticky-container>
  <div id="local-masthead" data-sticky data-sticky-on="large" data-top-anchor="180" data-btm-anchor="300000">
    <header role="banner" aria-label="{{ 'Site header'|t }}">

      <div id="global-masthead" class="clearfix">
        <!--This has to be one line and no newline characters-->
        <a href="//www.ebi.ac.uk/" title="Go to the EMBL-EBI homepage"><span class="ebi-logo"></span></a>

        <nav>
          <div class="row">
            <ul id="global-nav" class="menu">
              <!-- set active class as appropriate -->
              <li id="home-mobile" class=""><a href="//www.ebi.ac.uk"></a></li>
              <li id="home" class="active"><a href="//www.ebi.ac.uk"><i class="icon icon-generic" data-icon="H"></i> EMBL-EBI</a></li>
              <li id="services"><a href="//www.ebi.ac.uk/services"><i class="icon icon-generic" data-icon="("></i> Services</a></li>
              <li id="research"><a href="//www.ebi.ac.uk/research"><i class="icon icon-generic" data-icon=")"></i> Research</a></li>
              <li id="training"><a href="//www.ebi.ac.uk/training"><i class="icon icon-generic" data-icon="t"></i> Training</a></li>
              <li id="about"><a href="//www.ebi.ac.uk/about"><i class="icon icon-generic" data-icon="i"></i> About us</a></li>
              <li id="search">
                <a href="#" data-toggle="search-global-dropdown"><i class="icon icon-functional" data-icon="1"></i> <span class="show-for-small-only">Search</span></a>
                <div id="search-global-dropdown" class="dropdown-pane" data-dropdown data-options="closeOnClick:true;">
                  <form id="global-search" name="global-search" action="/ebisearch/search.ebi" method="GET">
                    <fieldset>
                      <div class="input-group">
                        <input type="text" name="query" id="global-searchbox" class="input-group-field" placeholder="Search all of EMBL-EBI">
                        <div class="input-group-button">
                          <input type="submit" name="submit" value="Search" class="button">
                          <input type="hidden" name="db" value="allebi" checked="checked">
                          <input type="hidden" name="requestFrom" value="global-masthead" checked="checked">
                        </div>
                      </div>
                    </fieldset>
                  </form>
                </div>
              </li>
              <li class="float-right show-for-medium embl-selector">
                <button class="button float-right" type="button" data-toggle="embl-dropdown">Hinxton</button>
                <!-- The dropdown menu will be programatically added by script.js -->
              </li>
            </ul>
          </div>
        </nav>

      </div>

      <div class="masthead row">

        <!-- local-title -->
        <div class="columns medium-7" id="local-title">
          {% if linked_site_name or linked_logo %}
            {% if linked_logo %}
              {{ linked_logo }}
            {% endif %}

            <h1 id="site-name"><a href="[service-url]" title="Back to {{site_name}} homepage">{{ linked_site_name }}</a></h1>
          {% endif %}
          {% if site_slogan %}
            <div class="columns hide-for-small">
              {{ site_slogan }}
            </div>
          {% endif %}

        </div>
        <!-- /local-title -->

        <!-- local-nav -->
            {% if page.header %}
              {{ page.header }}
            {% endif %}
            <nav class="float-right">
              <ul class="menu dropdown float-right" data-dropdown-menu data-description="functional">
                {% if show_account_info %}
                  {% if logged_in %}
                    <li><a href="{{ path('user.page') }}">{{ 'My Account'|t }}</a></li>
                    <li><a href="{{ path('user.logout') }}">{{ 'Logout'|t }}</a></li>
                  {% else %}
                    <li><a href="{{ path('user.login') }}">{{ 'Login'|t }}</a></li>
                    <li><a href="{{ path('user.register') }}">{{ 'Sign Up'|t }}</a></li>
                  {% endif %}
                {% endif %}
                <li class="functional"><a href="#"><i class="icon icon-generic" data-icon="d"></i> Share this</a>
                  <ul class="menu js">
                    <li><a href="#">Item 1A Loooong</a></li>
                    <li>
                      <a href='#'> Item 1 sub</a>
                      <ul class='menu'>
                        <li><a href='#'>Item 1 subA</a></li>
                        <li><a href='#'>Item 1 subB</a></li>
                        <li>
                          <a href='#'> Item 1 sub</a>
                          <ul class='menu'>
                            <li><a href='#'>Item 1 subA</a></li>
                            <li><a href='#'>Item 1 subB</a></li>
                          </ul>
                        </li>
                        <li>
                          <a href='#'> Item 1 sub</a>
                          <ul class='menu'>
                            <li><a href='#'>Item 1 subA</a></li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li><a href="#">Item 1B</a></li>
                  </ul>

              </ul>
            </nav>
        <!-- /local-nav -->

      </div>

    </header>

  </div>
</div>


{% if page.meta_header %}
  {% if meta_header_grid %}
    <div class="row">
      <div class="large-12 columns">
  {% endif %}
  {{ page.meta_header }}
  {% if meta_header_grid %}
      </div>
    </div>
  {% endif %}
{% endif %}

{% if page.header %}
  <div class="row">
    <div class="large-12 columns">
      {{ page.header }}
    </div>
  </div>
{% endif %}


{% if messages and not zurb_foundation_messages_modal %}
<div class="l-messages row">
  <div class="large-12 columns">
    {{ messages }}
  </div>
</div>
{% endif %}

{% if page.help %}
<div class="l-help row">
  <div class="large-12 columns">
    {{ page.help }}
  </div>
</div>
{% endif %}

<div class="row">
  <main id="main" class="{{ main_grid }} columns" role="main">
    {% if page.highlighted %}
      {% spaceless %}
        {{ page.highlighted }}
      {% endspaceless %}
    {% endif %}
    <a id="main-content"></a>
    {% if breadcrumb %} {{ breadcrumb }} {% endif %}
    <section>
      {{ page.content }}
    </section>
  </main>
  {% if page.sidebar_first %}
    <div id="sidebar-first" class="{{ sidebar_first_grid }} columns sidebar ">
      {{ page.sidebar_first }}
    </div>
  {% endif %}
  {% if page.sidebar_second %}
    <div id="sidebar-second" class="{{ sidebar_sec_grid }} columns sidebar">
      {{ page.sidebar_second }}
    </div>
  {% endif %}
</div>
<footer>
  <!-- Optional local footer (insert citation / project-specific copyright / etc here -->
  <div id="local-footer">
    <div class="row">
      {% if page.footer_first or page.footer_middle or page.footer_last %}
        <div class="row">
          {% if page.footer_first %}
            <div id="footer-first" class="large-4 columns">
              {{ page.footer_first }}
            </div>
          {% endif %}
          {% if page.footer_middle %}
            <div id="footer-middle" class="large-4 columns">
              {{ page.footer_middle }}
            </div>
          {% endif %}
          {% if page.footer_last %}
            <div id="footer-last" class="large-4 columns">
              {{ page.footer_last }}
            </div>
          {% endif %}
          </div>
      {% endif %}
      <!-- <span class="reference">How to reference this page: ...</span> -->
    </div>
  </div>
  <!-- End optional local footer -->

  <div id="global-footer">

    <nav id="global-nav-expanded" class="row">
      <!-- Footer will be automatically inserted by footer.js -->
    </nav>

    <section id="ebi-footer-meta" class="row">
      <!-- Footer meta will be automatically inserted by footer.js -->
    </section>

  </div>
</footer>

